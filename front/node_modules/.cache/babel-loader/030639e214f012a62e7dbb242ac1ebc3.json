{"remainingRequest":"D:\\GitRepo\\bsm\\front\\node_modules\\babel-loader\\lib\\index.js!D:\\GitRepo\\bsm\\front\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\GitRepo\\bsm\\front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\GitRepo\\bsm\\front\\src\\views\\homePage\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\GitRepo\\bsm\\front\\src\\views\\homePage\\index.vue","mtime":1590764442982},{"path":"D:\\GitRepo\\bsm\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\GitRepo\\bsm\\front\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\GitRepo\\bsm\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\GitRepo\\bsm\\front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiaG9tZSIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHVuZGVyUmFua01lZGlhczogW10sCiAgICAgIG1lZGlhV29ya3M6IFtdLAogICAgICBvcmRlcjogJ3BvcHVsYXJfbnVtJywKICAgICAgcGFnZVNpemU6IDYsCiAgICAgIHBhZ2U6IDEsCiAgICAgIHRvdGFsOiAwCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMucXVlcnlVbmRlclJhbmtMaXN0KCk7CiAgICB0aGlzLnF1ZXJ5TWVkaWFXb3Jrc0xpc3QoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHBhcnNlU3RyaW5nOiBmdW5jdGlvbiBwYXJzZVN0cmluZyh2YWwpIHsKICAgICAgaWYgKHZhbC5sZW5ndGggPiA2MCkgewogICAgICAgIHZhbCA9IHZhbC5zdWJzdHJpbmcoMCwgNjApICsgIi4uLiI7CiAgICAgIH0KCiAgICAgIHJldHVybiB2YWw7CiAgICB9LAogICAgcGFyc2VVcDogZnVuY3Rpb24gcGFyc2VVcCh2YWwpIHsKICAgICAgaWYgKHZhbC5sZW5ndGggPiA1KSB7CiAgICAgICAgdmFsID0gdmFsLnN1YnN0cmluZygwLCA1KSArICIuLi4iOwogICAgICB9CgogICAgICByZXR1cm4gdmFsOwogICAgfSwKICAgIHF1ZXJ5VW5kZXJSYW5rTGlzdDogZnVuY3Rpb24gcXVlcnlVbmRlclJhbmtMaXN0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy4kYXhpb3MucG9zdCgnL3VuZGVyUmFuay9xdWVyeUFsbFVuZGVyTWVkaWEnLCB7CiAgICAgICAgc3RhdHVzOiAxCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgICBfdGhpcy51bmRlclJhbmtNZWRpYXMgPSByZXNwLmRhdGE7CiAgICAgIH0pOwogICAgfSwKICAgIHF1ZXJ5TWVkaWFXb3Jrc0xpc3Q6IGZ1bmN0aW9uIHF1ZXJ5TWVkaWFXb3Jrc0xpc3QoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy4kYXhpb3MucG9zdCgnL21lZGlhV29yay9tZWRpYVdvcmtMaXN0JywgewogICAgICAgIHN0YXR1czogMSwKICAgICAgICBwYWdlOiB0aGlzLnBhZ2UsCiAgICAgICAgcGFnZVNpemU6IHRoaXMucGFnZVNpemUsCiAgICAgICAgb3JkZXI6IHRoaXMub3JkZXIKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcCkgewogICAgICAgIGlmIChyZXNwLmNvZGUgPT0gMjAwKSB7CiAgICAgICAgICBfdGhpczIubWVkaWFXb3JrcyA9IHJlc3AuZGF0YS5pdGVtczsKICAgICAgICAgIF90aGlzMi50b3RhbCA9IHJlc3AuZGF0YS50b3RhbDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMyLiRtZXNzYWdlLmVycm9yKHJlc3AuZGF0YS5tZXNzYWdlKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGhhbmRsZVNpemVDaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZVNpemVDaGFuZ2UodmFsKSB7CiAgICAgIHRoaXMucGFnZVNpemUgPSB2YWw7CiAgICAgIHRoaXMucXVlcnlNZWRpYVdvcmtzTGlzdCgpOwogICAgfSwKICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZUN1cnJlbnRDaGFuZ2UodmFsKSB7CiAgICAgIHRoaXMucGFnZSA9IHZhbDsKICAgICAgdGhpcy5xdWVyeU1lZGlhV29ya3NMaXN0KCk7CiAgICB9LAogICAgY2hhbmdlT3JkZXI6IGZ1bmN0aW9uIGNoYW5nZU9yZGVyKHZhbCkgewogICAgICB0aGlzLm9yZGVyID0gdmFsLm5hbWU7CiAgICAgIHRoaXMucXVlcnlNZWRpYVdvcmtzTGlzdCgpOwogICAgfSwKICAgIHNob3dEZXRhaWw6IGZ1bmN0aW9uIHNob3dEZXRhaWwodmFsKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBwYXRoOiAnL21lZGlhRGV0YWlsJywKICAgICAgICBxdWVyeTogewogICAgICAgICAgIm1lZGlhSWQiOiB2YWwKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyEA,eAAA;AACA,EAAA,IAAA,EAAA,MADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,eAAA,EAAA,EADA;AAEA,MAAA,UAAA,EAAA,EAFA;AAGA,MAAA,KAAA,EAAA,aAHA;AAIA,MAAA,QAAA,EAAA,CAJA;AAKA,MAAA,IAAA,EAAA,CALA;AAMA,MAAA,KAAA,EAAA;AANA,KAAA;AAQA,GAXA;AAYA,EAAA,OAZA,qBAYA;AACA,SAAA,kBAAA;AACA,SAAA,mBAAA;AACA,GAfA;AAgBA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,uBACA,GADA,EACA;AACA,UAAA,GAAA,CAAA,MAAA,GAAA,EAAA,EAAA;AACA,QAAA,GAAA,GAAA,GAAA,CAAA,SAAA,CAAA,CAAA,EAAA,EAAA,IAAA,KAAA;AACA;;AACA,aAAA,GAAA;AACA,KANA;AAOA,IAAA,OAPA,mBAOA,GAPA,EAOA;AACA,UAAA,GAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AACA,QAAA,GAAA,GAAA,GAAA,CAAA,SAAA,CAAA,CAAA,EAAA,CAAA,IAAA,KAAA;AACA;;AACA,aAAA,GAAA;AACA,KAZA;AAaA,IAAA,kBAbA,gCAaA;AAAA;;AACA,WAAA,MAAA,CAAA,IAAA,CAAA,+BAAA,EAAA;AACA,QAAA,MAAA,EAAA;AADA,OAAA,EAEA,IAFA,CAEA,UAAA,IAAA,EAAA;AACA,QAAA,KAAA,CAAA,eAAA,GAAA,IAAA,CAAA,IAAA;AACA,OAJA;AAKA,KAnBA;AAqBA,IAAA,mBArBA,iCAqBA;AAAA;;AACA,WAAA,MAAA,CAAA,IAAA,CAAA,0BAAA,EAAA;AACA,QAAA,MAAA,EAAA,CADA;AAEA,QAAA,IAAA,EAAA,KAAA,IAFA;AAGA,QAAA,QAAA,EAAA,KAAA,QAHA;AAIA,QAAA,KAAA,EAAA,KAAA;AAJA,OAAA,EAKA,IALA,CAKA,UAAA,IAAA,EAAA;AACA,YAAA,IAAA,CAAA,IAAA,IAAA,GAAA,EAAA;AACA,UAAA,MAAA,CAAA,UAAA,GAAA,IAAA,CAAA,IAAA,CAAA,KAAA;AACA,UAAA,MAAA,CAAA,KAAA,GAAA,IAAA,CAAA,IAAA,CAAA,KAAA;AACA,SAHA,MAGA;AACA,UAAA,MAAA,CAAA,QAAA,CAAA,KAAA,CAAA,IAAA,CAAA,IAAA,CAAA,OAAA;AACA;AACA,OAZA;AAaA,KAnCA;AAqCA,IAAA,gBArCA,4BAqCA,GArCA,EAqCA;AACA,WAAA,QAAA,GAAA,GAAA;AACA,WAAA,mBAAA;AACA,KAxCA;AAyCA,IAAA,mBAzCA,+BAyCA,GAzCA,EAyCA;AACA,WAAA,IAAA,GAAA,GAAA;AACA,WAAA,mBAAA;AACA,KA5CA;AA6CA,IAAA,WA7CA,uBA6CA,GA7CA,EA6CA;AACA,WAAA,KAAA,GAAA,GAAA,CAAA,IAAA;AACA,WAAA,mBAAA;AACA,KAhDA;AAiDA,IAAA,UAjDA,sBAiDA,GAjDA,EAiDA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AAAA,QAAA,IAAA,EAAA,cAAA;AAAA,QAAA,KAAA,EAAA;AAAA,qBAAA;AAAA;AAAA,OAAA;AACA;AAnDA;AAhBA,CAAA","sourcesContent":["<template>\r\n    <div >\r\n        <div style=\"width: 1000px; height: 300px;padding-top: 20px; margin: 0 auto\">\r\n            <el-carousel trigger=\"click\">\r\n                <el-carousel-item v-for=\"item in underRankMedias.slice(0,7)\" :key=\"item.id\">\r\n                    <img style=\"width: 1000px; height: 300px;\" :src=\"item.mediaCover\" @click=\"showDetail(item.id)\"/>\r\n                </el-carousel-item>\r\n            </el-carousel>\r\n        </div>\r\n        <div style=\"width: 1022px; height: 200px;padding-top: 20px; margin: 0 auto\">\r\n            <el-row>\r\n                <el-col :span=\"8\" v-for=\"item in underRankMedias.slice(7,10)\" :key=\"item.id\" >\r\n                    <img style=\"height: 200px;width: 326px; padding-left: 11px\" :src=\"item.mediaCover\" @click=\"showDetail(item.id)\"/>\r\n                </el-col>\r\n            </el-row>\r\n        </div>\r\n        <div style=\"width: 1022px;padding-top: 30px; margin: 0 auto\">\r\n            <div>\r\n                <el-tabs v-model=\"order\" style=\"width: 200px;margin: auto;\" :stretch=\"true\" @tab-click=\"changeOrder\">\r\n                    <el-tab-pane  label=\"首页推荐\" name=\"popular_num\"></el-tab-pane>\r\n                    <el-tab-pane label=\"最新发布\" name=\"create_datetime\"></el-tab-pane>\r\n                </el-tabs>\r\n            </div>\r\n            <div style=\"padding-top: 5px;padding-left: 10px\">\r\n                <el-row>\r\n                    <el-col :span=\"8\" v-for=\"index in mediaWorks\" :key=\"index.id\" >\r\n                        <el-card style=\"padding-top:5px; margin-top:15px;width: 326px;height: 350px;float: left\">\r\n                            <div style=\"float: left\">\r\n                                <img style=\"width: 295px;height: 200px\" :src=\"index.mediaCover\" class=\"image\" @click=\"showDetail(index.id)\"/>\r\n                            </div>\r\n                            <div style=\"float: left;width: 288px;height:95px;padding-left: 5px;\">\r\n                                <span style=\"font-weight: bolder\">{{index.mediaName}}</span><br>\r\n                                <span style=\"font-size: xx-small\">{{parseString(index.mediaRemark) }}</span><br><br>\r\n                            </div>\r\n                            <div style=\"float: left;width: 288px;padding-left: 5px;\">\r\n                                <div style=\"width: 50px;height: 20px;float: left\">\r\n                                    <img style=\"width: 30px;height: 20px;float: left\" src=\"../static/img/homePageEye.svg\"/>\r\n                                    <span style=\"float: left;margin-top: 2px\">{{index.popularNum}}</span>\r\n                                </div>\r\n                                <div style=\"width: 50px;height: 20px;float: left\">\r\n                                    <img style=\"width: 30px;height: 20px;float: left\" src=\"../static/img/hoemPageMsg.svg\"/>\r\n                                    <span style=\"float: left;margin-top: 2px;padding-left: 3px\">{{index.discussNum}}</span>\r\n                                </div>\r\n                                <div style=\"width: 50px;height: 20px;float: left\" >\r\n                                    <img style=\"width: 30px;height: 20px;float: left\" src=\"../static/img/homePageGood.svg\"/>\r\n                                    <span style=\"float: left;margin-top: 2px;padding-left: 3px\">{{index.recommendNum}}</span>\r\n                                </div>\r\n                                <div style=\"width: 130px;height: 20px;float: right\" >\r\n                                    <span style=\"float: right;margin-top: 1px;padding-left: 3px\">up:{{parseUp(index.uploadUser)}}</span>\r\n                                </div>\r\n                            </div>\r\n                        </el-card>\r\n                    </el-col>\r\n                </el-row>\r\n                <div align=\"center\" style=\"margin-bottom: 10px;padding-top: 20px\">\r\n                    <div class=\"block\" style=\"padding: 0 32px\">\r\n                        <el-pagination\r\n                                @size-change=\"handleSizeChange\"\r\n                                @current-change=\"handleCurrentChange\"\r\n                                :current-page=\"page\"\r\n                                :page-sizes=\"[6, 9, 15, 21]\"\r\n                                :page-size=\"pageSize\"\r\n                                layout=\"total, sizes, prev, pager, next, jumper\"\r\n                                :total=\"total\">\r\n                        </el-pagination>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"home\",\r\n        data(){\r\n            return{\r\n                underRankMedias:[],\r\n                mediaWorks:[],\r\n                order:'popular_num',\r\n                pageSize:6,\r\n                page:1,\r\n                total:0,\r\n            }\r\n        },\r\n        created() {\r\n            this.queryUnderRankList()\r\n            this.queryMediaWorksList()\r\n        },\r\n        methods:{\r\n           parseString(val){\r\n                if (val.length>60){\r\n                    val = val.substring(0,60)+\"...\";\r\n                }\r\n                return val\r\n           },\r\n            parseUp(val){\r\n                if (val.length>5){\r\n                    val = val.substring(0,5)+\"...\";\r\n                }\r\n                return val\r\n            },\r\n           queryUnderRankList(){\r\n               this.$axios.post('/underRank/queryAllUnderMedia',{\r\n                    status:1\r\n               }).then(resp =>{\r\n                   this.underRankMedias = resp.data\r\n               })\r\n           },\r\n\r\n           queryMediaWorksList(){\r\n               this.$axios.post('/mediaWork/mediaWorkList',{\r\n                   status:1,\r\n                   page:this.page,\r\n                   pageSize:this.pageSize,\r\n                   order:this.order\r\n               }).then(resp=>{\r\n                   if (resp.code == 200) {\r\n                       this.mediaWorks = resp.data.items;\r\n                       this.total = resp.data.total;\r\n                   }else{\r\n                       this.$message.error(resp.data.message);\r\n                   }\r\n               });\r\n           },\r\n\r\n            handleSizeChange(val) {\r\n                this.pageSize = val\r\n                this.queryMediaWorksList()\r\n            },\r\n            handleCurrentChange(val) {\r\n                this.page = val\r\n                this.queryMediaWorksList()\r\n            },\r\n            changeOrder(val){\r\n                this.order = val.name\r\n                this.queryMediaWorksList()\r\n            },\r\n            showDetail(val){\r\n               this.$router.push({path:'/mediaDetail',query:{\"mediaId\":val}})\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"css\" scoped>\r\n    .el-carousel__item h3 {\r\n        color: #475669;\r\n        font-size: 18px;\r\n        opacity: 0.75;\r\n        line-height: 300px;\r\n        margin: 0;\r\n    }\r\n\r\n    .el-carousel__item:nth-child(2n) {\r\n        background-color: #99a9bf;\r\n    }\r\n\r\n    .el-carousel__item:nth-child(2n+1) {\r\n        background-color: #d3dce6;\r\n    }\r\n</style>\r\n"],"sourceRoot":"src/views/homePage"}]}