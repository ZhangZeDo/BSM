{"remainingRequest":"D:\\GitRepo\\MWD\\mwd\\front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\GitRepo\\MWD\\mwd\\front\\src\\views\\personalCenter\\userInfo.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\GitRepo\\MWD\\mwd\\front\\src\\views\\personalCenter\\userInfo.vue","mtime":1587213792746},{"path":"D:\\GitRepo\\MWD\\mwd\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\GitRepo\\MWD\\mwd\\front\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\GitRepo\\MWD\\mwd\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\GitRepo\\MWD\\mwd\\front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICJ1c2VySW5mbyIsCiAgICBkYXRhKCl7CiAgICAgICAgcmV0dXJuewogICAgICAgICAgICBydWxlRm9ybTogewogICAgICAgICAgICAgICAgaWQ6JycsCiAgICAgICAgICAgICAgICB1c2VyQWNjb3VudDonJywKICAgICAgICAgICAgICAgIHVzZXJOYW1lOicnLAogICAgICAgICAgICAgICAgdXNlck1haWw6JycsCiAgICAgICAgICAgICAgICB1c2VyUGhvbmU6JycsCiAgICAgICAgICAgICAgICB1c2VyUGFzc3dvcmQ6JycsCiAgICAgICAgICAgICAgICB1c2VyUGFzc3dvcmQxOicnLAogICAgICAgICAgICAgICAgdXNlclBhc3N3b3JkMjonJywKICAgICAgICAgICAgICAgIHVzZXJQYXNzd29yZDM6JycsCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGNoYW5nZURpYWxvZzpmYWxzZSwKICAgICAgICAgICAgcnVsZXM6ewogICAgICAgICAgICAgICAgdXNlck5hbWU6IFsKICAgICAgICAgICAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36L6T5YWl55So5oi35ZCN56ewJywgdHJpZ2dlcjogJ2NoYW5nZScgfSwKICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICAgICB1c2VyUGFzc3dvcmQxOiBbCiAgICAgICAgICAgICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpeeUqOaIt+WQjeensCcsIHRyaWdnZXI6ICdjaGFuZ2UnIH0sCiAgICAgICAgICAgICAgICBdLAogICAgICAgICAgICAgICAgdXNlclBhc3N3b3JkMjogWwogICAgICAgICAgICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fovpPlhaXnlKjmiLflkI3np7AnLCB0cmlnZ2VyOiAnY2hhbmdlJyB9LAogICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICAgIHVzZXJQYXNzd29yZDM6IFsKICAgICAgICAgICAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36L6T5YWl55So5oi35ZCN56ewJywgdHJpZ2dlcjogJ2NoYW5nZScgfSwKICAgICAgICAgICAgICAgIF0sCgogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfSwKICAgIGNyZWF0ZWQoKSB7CiAgICAgICAgdGhpcy5nZXRMb2dpbkluZm8oKQogICAgfSwKICAgIG1ldGhvZHM6ewogICAgICAgIGdldExvZ2luSW5mbygpewogICAgICAgICAgICB0aGlzLiRheGlvcy5wb3N0KCcvdXNlci9nZXRMb2dpbkluZm8nLHsKCiAgICAgICAgICAgIH0pLnRoZW4ocmVzcD0+ewogICAgICAgICAgICAgICAgaWYgKHJlc3AuY29kZSA9PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLnJ1bGVGb3JtID0gcmVzcC5kYXRhCiAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKHJlc3AubWVzc2FnZSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgc3VibWl0Rm9ybSgpewogICAgICAgICAgICBpZiAodGhpcy5ydWxlRm9ybS51c2VyTmFtZSA9PW51bGwgfHwgdGhpcy5ydWxlRm9ybS51c2VyTmFtZSA9PSAnJyl7CiAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLndhcm5pbmcoIueUqOaIt+Wnk+WQjeS4jeiDveS4uuepuiIpOwogICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgIHRoaXMuJGF4aW9zLnBvc3QoJy91c2VyL3VwZGF0ZVVzZXJJbmZvJyx7CiAgICAgICAgICAgICAgICAgICAgaWQ6dGhpcy5ydWxlRm9ybS5pZCwKICAgICAgICAgICAgICAgICAgICB1c2VyQWNjb3VudDp0aGlzLnJ1bGVGb3JtLnVzZXJBY2NvdW50LAogICAgICAgICAgICAgICAgICAgIHVzZXJOYW1lOnRoaXMucnVsZUZvcm0udXNlck5hbWUsCiAgICAgICAgICAgICAgICAgICAgdXNlck1haWw6dGhpcy5ydWxlRm9ybS51c2VyTWFpbCwKICAgICAgICAgICAgICAgICAgICB1c2VyUGhvbmU6dGhpcy5ydWxlRm9ybS51c2VyUGhvbmUKICAgICAgICAgICAgICAgIH0pLnRoZW4ocmVzcD0+ewogICAgICAgICAgICAgICAgICAgIGlmIChyZXNwLmNvZGUgPT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygi5pu05paw5oiQ5YqfIik7CiAgICAgICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IocmVzcC5tZXNzYWdlKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgY2hhbmdlUGFzc3dvcmQoKXsKICAgICAgICAgICAgdGhpcy5jaGFuZ2VEaWFsb2cgPSB0cnVlCiAgICAgICAgfSwKICAgICAgICBzdWJtaXRDaGFuZ2VEaWFsb2coKXsKICAgICAgICAgICAgaWYgKHRoaXMucnVsZUZvcm0udXNlclBhc3N3b3JkICE9IHRoaXMucnVsZUZvcm0udXNlclBhc3N3b3JkMSl7CiAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCLlr4bnoIHkuI3mraPnoa7vvIzor7fph43mlrDovpPlhaUiKTsKICAgICAgICAgICAgfWVsc2UgaWYgKCF0aGlzLnJ1bGVGb3JtLnVzZXJQYXNzd29yZDIpewogICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigi5paw5a+G56CB5LiN6IO95Li656m6Iik7CiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5ydWxlRm9ybS51c2VyUGFzc3dvcmQyICE9IHRoaXMucnVsZUZvcm0udXNlclBhc3N3b3JkMykgewogICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigi5paw5a+G56CBMuasoei+k+WFpeS4jeS4gOiHtO+8jOivt+ehruiupCIpOwogICAgICAgICAgICB9ZWxzZSB7CiAgICAgICAgICAgICAgICB0aGlzLiRheGlvcy5wb3N0KCcvdXNlci9jaGFuZ2VVc2VyUGFzc3dvcmQnLCB7CiAgICAgICAgICAgICAgICAgICAgdXNlckFjY291bnQ6IHRoaXMucnVsZUZvcm0udXNlckFjY291bnQsCiAgICAgICAgICAgICAgICAgICAgdXNlclBhc3N3b3JkOiB0aGlzLnJ1bGVGb3JtLnVzZXJQYXNzd29yZDIsCiAgICAgICAgICAgICAgICB9KS50aGVuKHJlc3AgPT4gewogICAgICAgICAgICAgICAgICAgIGlmIChyZXNwLmNvZGUgPT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygi5pu05paw5oiQ5Yqf77yM6K+36YeN5paw55m75b2VIik7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHtuYW1lOiAnbG9naW4nfSk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihyZXNwLm1lc3NhZ2UpOwogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNoYW5nZURpYWxvZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgIH0KfQo="},{"version":3,"sources":["userInfo.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"userInfo.vue","sourceRoot":"src/views/personalCenter","sourcesContent":["<template>\r\n    <div style=\"padding-left: 35%;padding-top: 200px;width: 500px\">\r\n        <el-form  size=\"mini\" :model=\"ruleForm\" :rules=\"rules\" ref=\"ruleForm\" label-width=\"140px\" class=\"demo-ruleForm\">\r\n            <el-form-item label=\"用户账号\">\r\n                <el-input v-model=\"ruleForm.userAccount\" style=\"width: 300px;\" :disabled=\"true\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"用户姓名\">\r\n                <el-input v-model=\"ruleForm.userName\" style=\"width: 300px;\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"用户邮箱\">\r\n                <el-input v-model=\"ruleForm.userMail\" style=\"width: 300px;\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"用户联系方式\">\r\n                <el-input v-model=\"ruleForm.userPhone\" style=\"width: 300px;\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item>\r\n                <el-button type=\"success\" size=\"mini\" style=\"width: 100px;float: left\" @click=\"changePassword\" >修改密码</el-button>\r\n                <el-button type=\"success\" size=\"mini\" style=\"width: 100px;margin-left: 100px\" @click=\"submitForm\" >保存</el-button>\r\n            </el-form-item>\r\n            <div>\r\n\r\n            </div>\r\n        </el-form>\r\n        <el-dialog\r\n                title=\"修改密码\"\r\n                :visible.sync=\"changeDialog\"\r\n                width=\"40%\"\r\n                center>\r\n            <el-form :model=\"ruleForm\" :rules=\"rules\" ref=\"ruleForm\" label-width=\"100px\" class=\"demo-ruleForm\">\r\n                <el-form-item label=\"旧密码\">\r\n                    <el-input type=\"password\" v-model=\"ruleForm.userPassword1\" placeholder=\"请输入旧密码\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"新密码\">\r\n                    <el-input type=\"password\" v-model=\"ruleForm.userPassword2\" placeholder=\"请输入新密码\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"请确认新密码\">\r\n                    <el-input type=\"password\" v-model=\"ruleForm.userPassword3\" placeholder=\"请确认新密码\"></el-input>\r\n                </el-form-item>\r\n            </el-form>\r\n            <span slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click=\"changeDialog = false\">取 消</el-button>\r\n                <el-button type=\"primary\" @click=\"submitChangeDialog\">确 定</el-button>\r\n            </span>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"userInfo\",\r\n        data(){\r\n            return{\r\n                ruleForm: {\r\n                    id:'',\r\n                    userAccount:'',\r\n                    userName:'',\r\n                    userMail:'',\r\n                    userPhone:'',\r\n                    userPassword:'',\r\n                    userPassword1:'',\r\n                    userPassword2:'',\r\n                    userPassword3:'',\r\n                },\r\n                changeDialog:false,\r\n                rules:{\r\n                    userName: [\r\n                        { required: true, message: '请输入用户名称', trigger: 'change' },\r\n                    ],\r\n                    userPassword1: [\r\n                        { required: true, message: '请输入用户名称', trigger: 'change' },\r\n                    ],\r\n                    userPassword2: [\r\n                        { required: true, message: '请输入用户名称', trigger: 'change' },\r\n                    ],\r\n                    userPassword3: [\r\n                        { required: true, message: '请输入用户名称', trigger: 'change' },\r\n                    ],\r\n\r\n                }\r\n            }\r\n        },\r\n        created() {\r\n            this.getLoginInfo()\r\n        },\r\n        methods:{\r\n            getLoginInfo(){\r\n                this.$axios.post('/user/getLoginInfo',{\r\n\r\n                }).then(resp=>{\r\n                    if (resp.code == 200) {\r\n                        this.ruleForm = resp.data\r\n                    }else{\r\n                        this.$message.error(resp.message);\r\n                    }\r\n                });\r\n            },\r\n            submitForm(){\r\n                if (this.ruleForm.userName ==null || this.ruleForm.userName == ''){\r\n                    this.$message.warning(\"用户姓名不能为空\");\r\n                }else{\r\n                    this.$axios.post('/user/updateUserInfo',{\r\n                        id:this.ruleForm.id,\r\n                        userAccount:this.ruleForm.userAccount,\r\n                        userName:this.ruleForm.userName,\r\n                        userMail:this.ruleForm.userMail,\r\n                        userPhone:this.ruleForm.userPhone\r\n                    }).then(resp=>{\r\n                        if (resp.code == 200) {\r\n                            this.$message.success(\"更新成功\");\r\n                        }else{\r\n                            this.$message.error(resp.message);\r\n                        }\r\n                    });\r\n                }\r\n            },\r\n            changePassword(){\r\n                this.changeDialog = true\r\n            },\r\n            submitChangeDialog(){\r\n                if (this.ruleForm.userPassword != this.ruleForm.userPassword1){\r\n                    this.$message.error(\"密码不正确，请重新输入\");\r\n                }else if (!this.ruleForm.userPassword2){\r\n                    this.$message.error(\"新密码不能为空\");\r\n                } else if (this.ruleForm.userPassword2 != this.ruleForm.userPassword3) {\r\n                    this.$message.error(\"新密码2次输入不一致，请确认\");\r\n                }else {\r\n                    this.$axios.post('/user/changeUserPassword', {\r\n                        userAccount: this.ruleForm.userAccount,\r\n                        userPassword: this.ruleForm.userPassword2,\r\n                    }).then(resp => {\r\n                        if (resp.code == 200) {\r\n                            this.$message.success(\"更新成功，请重新登录\");\r\n                            this.$router.push({name: 'login'});\r\n                        } else {\r\n                            this.$message.error(resp.message);\r\n                            this.changeDialog = false;\r\n                        }\r\n                    });\r\n                }\r\n            },\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n"]}]}