(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d229059"],{dc59:function(e,r,s){"use strict";s.r(r);var t=function(){var e=this,r=e.$createElement,s=e._self._c||r;return s("div",{staticStyle:{"padding-left":"35%","padding-top":"200px",width:"500px"}},[s("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{size:"mini",model:e.ruleForm,rules:e.rules,"label-width":"140px"}},[s("el-form-item",{attrs:{label:"用户账号"}},[s("el-input",{staticStyle:{width:"300px"},attrs:{disabled:!0},model:{value:e.ruleForm.userAccount,callback:function(r){e.$set(e.ruleForm,"userAccount",r)},expression:"ruleForm.userAccount"}})],1),s("el-form-item",{attrs:{label:"用户姓名"}},[s("el-input",{staticStyle:{width:"300px"},model:{value:e.ruleForm.userName,callback:function(r){e.$set(e.ruleForm,"userName",r)},expression:"ruleForm.userName"}})],1),s("el-form-item",{attrs:{label:"用户邮箱"}},[s("el-input",{staticStyle:{width:"300px"},model:{value:e.ruleForm.userMail,callback:function(r){e.$set(e.ruleForm,"userMail",r)},expression:"ruleForm.userMail"}})],1),s("el-form-item",{attrs:{label:"用户联系方式"}},[s("el-input",{staticStyle:{width:"300px"},model:{value:e.ruleForm.userPhone,callback:function(r){e.$set(e.ruleForm,"userPhone",r)},expression:"ruleForm.userPhone"}})],1),s("el-form-item",[s("el-button",{staticStyle:{width:"100px",float:"left"},attrs:{type:"success",size:"mini"},on:{click:e.changePassword}},[e._v("修改密码")]),s("el-button",{staticStyle:{width:"100px","margin-left":"100px"},attrs:{type:"success",size:"mini"},on:{click:e.submitForm}},[e._v("保存")])],1),s("div")],1),s("el-dialog",{attrs:{title:"修改密码",visible:e.changeDialog,width:"40%",center:""},on:{"update:visible":function(r){e.changeDialog=r}}},[s("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[s("el-form-item",{attrs:{label:"旧密码"}},[s("el-input",{attrs:{type:"password",placeholder:"请输入旧密码"},model:{value:e.ruleForm.userPassword1,callback:function(r){e.$set(e.ruleForm,"userPassword1",r)},expression:"ruleForm.userPassword1"}})],1),s("el-form-item",{attrs:{label:"新密码"}},[s("el-input",{attrs:{type:"password",placeholder:"请输入新密码"},model:{value:e.ruleForm.userPassword2,callback:function(r){e.$set(e.ruleForm,"userPassword2",r)},expression:"ruleForm.userPassword2"}})],1),s("el-form-item",{attrs:{label:"请确认新密码"}},[s("el-input",{attrs:{type:"password",placeholder:"请确认新密码"},model:{value:e.ruleForm.userPassword3,callback:function(r){e.$set(e.ruleForm,"userPassword3",r)},expression:"ruleForm.userPassword3"}})],1)],1),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(r){e.changeDialog=!1}}},[e._v("取 消")]),s("el-button",{attrs:{type:"primary"},on:{click:e.submitChangeDialog}},[e._v("确 定")])],1)],1)],1)},o=[],a={name:"userInfo",data:function(){return{ruleForm:{id:"",userAccount:"",userName:"",userMail:"",userPhone:"",userPassword:"",userPassword1:"",userPassword2:"",userPassword3:""},changeDialog:!1,rules:{userName:[{required:!0,message:"请输入用户名称",trigger:"change"}],userPassword1:[{required:!0,message:"请输入用户名称",trigger:"change"}],userPassword2:[{required:!0,message:"请输入用户名称",trigger:"change"}],userPassword3:[{required:!0,message:"请输入用户名称",trigger:"change"}]}}},created:function(){this.getLoginInfo()},methods:{getLoginInfo:function(){var e=this;this.$axios.post("/user/getLoginInfo",{}).then((function(r){200==r.code?e.ruleForm=r.data:e.$message.error(r.message)}))},submitForm:function(){var e=this;null==this.ruleForm.userName||""==this.ruleForm.userName?this.$message.warning("用户姓名不能为空"):this.$axios.post("/user/updateUserInfo",{id:this.ruleForm.id,userAccount:this.ruleForm.userAccount,userName:this.ruleForm.userName,userMail:this.ruleForm.userMail,userPhone:this.ruleForm.userPhone}).then((function(r){200==r.code?e.$message.success("更新成功"):e.$message.error(r.message)}))},changePassword:function(){this.changeDialog=!0},submitChangeDialog:function(){var e=this;this.ruleForm.userPassword!=this.ruleForm.userPassword1?this.$message.error("密码不正确，请重新输入"):this.ruleForm.userPassword2?this.ruleForm.userPassword2!=this.ruleForm.userPassword3?this.$message.error("新密码2次输入不一致，请确认"):this.$axios.post("/user/changeUserPassword",{userAccount:this.ruleForm.userAccount,userPassword:this.ruleForm.userPassword2}).then((function(r){200==r.code?(e.$message.success("更新成功，请重新登录"),e.$router.push({name:"login"})):(e.$message.error(r.message),e.changeDialog=!1)})):this.$message.error("新密码不能为空")}}},u=a,l=s("2877"),i=Object(l["a"])(u,t,o,!1,null,"f3335ace",null);r["default"]=i.exports}}]);
//# sourceMappingURL=chunk-2d229059.477a301d.js.map