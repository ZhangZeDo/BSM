(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c164332c"],{"6aaa":function(t,e,a){"use strict";var i=a("9d4c"),r=a.n(i);r.a},"6efe":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._m(0),a("el-card",{staticStyle:{margin:"20px 100px"}},[a("div",{staticStyle:{height:"30px"},attrs:{slot:"header"},slot:"header"},[a("div",{staticStyle:{float:"right"}},[a("el-button",{attrs:{size:"small"},on:{click:t.queryData}},[t._v("搜索")])],1),a("div",{staticStyle:{float:"right","margin-right":"10px"}},[a("el-input",{attrs:{size:"small",placeholder:"搜索标题/描述",clearable:""},model:{value:t.queryForm.searchInput,callback:function(e){t.$set(t.queryForm,"searchInput",e)},expression:"queryForm.searchInput"}},[a("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"prefix"},slot:"prefix"})])],1),a("div",{staticStyle:{float:"right","margin-right":"10px"}},[a("el-select",{attrs:{size:"small",clearable:"",placeholder:"请选择作品类型"},model:{value:t.queryForm.mediaType,callback:function(e){t.$set(t.queryForm,"mediaType",e)},expression:"queryForm.mediaType"}},t._l(t.mediaTypeList,(function(t){return a("el-option",{key:t.id,attrs:{label:t.typeName,value:t.id}})})),1)],1)]),a("div",[a("el-row",{staticStyle:{padding:"0 20px"}},[a("el-row",t._l(t.mediaWorks,(function(e){return a("el-col",{key:e.id,attrs:{span:8}},[a("el-card",{staticStyle:{margin:"10px 20px",width:"500px",height:"150px",float:"left"}},[a("div",{staticStyle:{float:"left"}},[a("img",{staticClass:"image",staticStyle:{width:"150px",height:"110px"},attrs:{src:e.mediaCover},on:{click:function(a){return t.showDetail(e.id)}}})]),a("div",{staticStyle:{float:"left",width:"250px","padding-left":"5px"}},[a("span",[t._v(t._s(e.mediaName))]),a("br"),a("br"),a("span",[t._v("评分:"+t._s(e.mediaGrade))]),a("br"),a("br"),e.mediaRemark.length<35?a("span",{staticStyle:{"font-size":"x-small"}},[t._v(t._s(e.mediaRemark))]):a("span",{staticStyle:{"font-size":"x-small"}},[t._v(t._s(e.mediaRemark.substring(0,35))+"...")])]),a("div",{staticStyle:{float:"right","padding-top":"90px"}},[a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.open(e.id)}}},[t._v("移除")])],1)])],1)})),1)],1)],1),a("div",{staticStyle:{"margin-bottom":"10px"},attrs:{align:"center"}},[a("div",{staticClass:"block",staticStyle:{padding:"0 32px"}},[a("el-pagination",{attrs:{"current-page":t.queryForm.page,"page-size":t.queryForm.pageSize,"page-sizes":[6,9,12,15],layout:"total, sizes, prev,pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])])],1)},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-header",staticStyle:{"margin-top":"20px","margin-left":"100px"}},[a("h3",[t._v("我的收藏")])])}],s={name:"bookmark",data:function(){return{mediaTypeList:[],mediaWorks:[],queryForm:{mediaType:"",searchInput:"",pageSize:6,page:1},total:0}},created:function(){this.getAllMediaType(),this.queryData()},methods:{open:function(t){var e=this;this.$confirm("此操作将永久删除该作品, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$axios.post("/bookmark/removeBookmark",{mediaId:t}).then((function(t){200==t.code&&(e.$message.success("操作成功"),e.queryData())}))}))},handleSizeChange:function(t){this.queryForm.pageSize=t,this.queryData()},handleCurrentChange:function(t){this.queryForm.page=t,this.queryData()},getAllMediaType:function(){var t=this;this.$axios.post("/mediaType/getAllMediaType",{status:"1"}).then((function(e){200==e.code&&(t.mediaTypeList=e.data)}))},queryData:function(){var t=this;this.$axios.post("/bookmark/getBookMediaList",{mediaType:this.queryForm.mediaType,searchInput:this.queryForm.searchInput,pageSize:this.queryForm.pageSize,page:this.queryForm.page}).then((function(e){200==e.code&&(t.mediaWorks=e.data.items,t.total=e.data.total)}))},showDetail:function(t){this.$router.push({path:"/mediaDetail",query:{mediaId:t}})}}},n=s,o=(a("6aaa"),a("2877")),l=Object(o["a"])(n,i,r,!1,null,"a5a7c726",null);e["default"]=l.exports},"9d4c":function(t,e,a){}}]);
//# sourceMappingURL=chunk-c164332c.751b120b.js.map